



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="My personal website projects page.">
      
      
      
        <meta name="author" content="Alexander Policht">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.3">
    
    
      
        <title>ROCKETS - Aepolicht</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.9b572555.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="brown" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#rockets" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Aepolicht" class="md-header-nav__button md-logo">
          
            <img src="../img/icon.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Aepolicht
              </span>
              <span class="md-header-nav__topic">
                ROCKETS
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://aepolicht.github.io" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Aepolicht
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../img/icon.png" width="24" height="24">
      
    </span>
    Aepolicht
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://aepolicht.github.io" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Aepolicht
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Projects
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Projects
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../mobonet/" title="moboNet" class="md-nav__link">
      moboNet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../android_continuum/" title="Android Continuum" class="md-nav__link">
      Android Continuum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fm_demod/" title="FM Demodulator" class="md-nav__link">
      FM Demodulator
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        ROCKETS
      </label>
    
    <a href="./" title="ROCKETS" class="md-nav__link md-nav__link--active">
      ROCKETS
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matlab" title="MATLAB" class="md-nav__link">
    MATLAB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" title="References" class="md-nav__link">
    References
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About Me" class="md-nav__link">
      About Me
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matlab" title="MATLAB" class="md-nav__link">
    MATLAB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" title="References" class="md-nav__link">
    References
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="rockets">ROCKETS</h1>
<h2 id="background">Background</h2>
<p>For the last few years, I've attended a summer BBQ event hosted by the company my girlfriend works for in eastern Pennsylvania. My personal favorite part of this event is the one involving controlled explosions (of course) in which everyone participates in assembling a rocket to fire off. The rockets range from the toy-sized, to the massive almost 6' in length. </p>
<p>This year, I was given A very simple choice of which off the shelf rocket and motor to use. Do I use a <strong>D6</strong> engine or a <strong>C12</strong> engine with my <strong>Nike-X-7259</strong>? I mean the choice was simple but not having much experience with hobby rockets and of course when you spend the many of your days modeling systems for engineering purposes, the answer can't be <em>that</em> easy...</p>
<p>So I decided to start working on a very simple model of rocket dynamics to try to determine which of these engines will give the best performance. I needed a way to validate my intuition which told me that the larger motor crammed into the smaller rocket body (which it was not setup for) would be the way to go. The result of this pondering is the beginnings of a modeling tool in MATLAB to help me determine the overall trajectory for a given configuration. </p>
<p>The simulation takes into account: Hull Weight, Hull Dimensions, Motor Thrust, Motor Burn Times, Motor Static Weight, Motor Fuel Weight, Motor Thrust. I'm beginning to work on integrating drag and other non-idealities which will probably happen sometime before next years event. Below is a simple comparison of the two configurations. I adjusted the displacement angle slightly off normal so that we can actually see how they might behave more easily. </p>
<p align="center"><img src="../img/sim_launch.gif" alt="Drawing" style="width: 600px;"/></p>

<p align="center"><i>See MATLAB section below for source</i></p>

<p>Well that convinces me enough to go with the D6, showing that even with the higher static weight and shorter burn time, the D6 should provide a higher maximum altitude reached. The only other tricky bit was ensuring that the rocket maintained aerodynamic stability with that added weight in the back (since this rocket was designed to use the C12). To account for how that added clay might impact the results, I added 0.01 kg to the static weight in the Motor1 scenario. </p>
<p>After a custom engine fitting and excellent paint job by my talented other half, we have a rocket! (Mine is the far left)</p>
<p align="center"><img src="../img/rocket_static.jpg" alt="Drawing" style="width: 400px;"/></p>

<p>On at launch time it had already gotten pretty dark so I've pointed out which one is mine in the image below. It's also the last to leave the platform... So heavy...</p>
<p align="center"><img src="../img/circled_enhanced.png" alt="Drawing" style="width: 800px;"/></p>

<p>Anyways, here is the launch. Unfortunately because it was so dark we lost track of it pretty much immediately, but it was found in the end. I'm hoping to eventually compare the launch in greater detail with the simulation but first must add at least some very basic wind effects, since a parachute deploys on descent. Another feature for next time!</p>
<p align="center"><iframe width="450" height="800" src="https://www.youtube.com/embed/w6vY3uXMamo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>

<h2 id="matlab">MATLAB</h2>
<div class="codehilite"><pre><span></span><span class="c">% Estes - Nike-X {Kit} (7259) [2017-]</span>
<span class="c">% Attributes</span>
<span class="c">% Decals:       Waterslide</span>
<span class="c">% Diameter:     1.3300 inches</span>
<span class="c">% Length:       23.4000 inches</span>
<span class="c">% Manufacturer:     Estes </span>
<span class="c">% Model:        7259</span>
<span class="c">% Motor Size:       18 millimeters</span>
<span class="c">% Power:        Low-Power</span>
<span class="c">% Product Type:     Kit</span>
<span class="c">% Production Years:     2017-</span>
<span class="c">% Recommended Motors:       B6-4, C6-5</span>
<span class="c">% Recovery:     Parachute</span>
<span class="c">% Skill Level:      2</span>
<span class="c">% Style:        Scale</span>
<span class="c">% Tags:     Scale:Nike:Nike-X</span>
<span class="c">% Weight:       2.4000 ounces</span>
<span class="c">%% MOTOR</span>

<span class="c">%% Define</span>

<span class="c">% Hull</span>
<span class="n">Hull</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">&#39;Nike-X-7259&#39;</span><span class="p">;</span>
<span class="n">Hull</span><span class="p">.</span><span class="n">Diameter</span> <span class="p">=</span> <span class="mf">0.03302</span><span class="p">;</span> <span class="c">% meter</span>
<span class="n">Hull</span><span class="p">.</span><span class="n">Weight</span> <span class="p">=</span> <span class="mf">0.068</span><span class="p">;</span> <span class="c">% grams</span>
<span class="n">Hull</span><span class="p">.</span><span class="n">Length</span> <span class="p">=</span> <span class="mf">0.594</span><span class="p">;</span> <span class="c">% meter</span>

<span class="c">% Motors</span>
<span class="n">Motor1</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">&#39;D6-5&#39;</span><span class="p">;</span>
<span class="n">Motor1</span><span class="p">.</span><span class="n">BurnTime</span> <span class="p">=</span> <span class="mf">1.7</span><span class="p">;</span> <span class="c">% Seconds</span>
<span class="n">Motor1</span><span class="p">.</span><span class="n">Diameter</span> <span class="p">=</span> <span class="mf">0.024</span><span class="p">;</span> <span class="c">% meters</span>
<span class="n">Motor1</span><span class="p">.</span><span class="n">StaticWeight</span> <span class="p">=</span> <span class="mf">0.023</span> <span class="o">+</span> <span class="mf">0.01</span><span class="p">;</span> <span class="c">% kg</span>
<span class="n">Motor1</span><span class="p">.</span><span class="n">FuelWeight</span> <span class="p">=</span> <span class="mf">0.0211</span><span class="p">;</span> <span class="c">% kg</span>
<span class="n">Motor1</span><span class="p">.</span><span class="n">Thrust</span> <span class="p">=</span> <span class="mf">29.7</span><span class="p">;</span> <span class="c">% Newtons</span>

<span class="n">Motor2</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">&#39;C12-7&#39;</span><span class="p">;</span>
<span class="n">Motor2</span><span class="p">.</span><span class="n">BurnTime</span> <span class="p">=</span> <span class="mf">1.9</span><span class="p">;</span> <span class="c">% Seconds</span>
<span class="n">Motor2</span><span class="p">.</span><span class="n">Diameter</span> <span class="p">=</span> <span class="mf">0.018</span><span class="p">;</span> <span class="c">% meters</span>
<span class="n">Motor2</span><span class="p">.</span><span class="n">StaticWeight</span> <span class="p">=</span> <span class="mf">0.0132</span><span class="p">;</span> <span class="c">% kg</span>
<span class="n">Motor2</span><span class="p">.</span><span class="n">FuelWeight</span> <span class="p">=</span> <span class="mf">0.0108</span><span class="p">;</span> <span class="c">% kg</span>
<span class="n">Motor2</span><span class="p">.</span><span class="n">Thrust</span> <span class="p">=</span> <span class="mf">14.1</span><span class="p">;</span> <span class="c">% Newtons</span>

<span class="n">motors</span> <span class="p">=</span> <span class="p">[</span><span class="n">Motor1</span><span class="p">,</span> <span class="n">Motor2</span><span class="p">];</span>

<span class="n">wind_speed</span> <span class="p">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">];</span>
<span class="n">wind_variance</span> <span class="p">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">];</span>

<span class="c">%% Fly dat rocket</span>
<span class="n">filename</span> <span class="p">=</span> <span class="s">&#39;LAUNCH.gif&#39;</span><span class="p">;</span>
<span class="n">h</span> <span class="p">=</span> <span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="n">clf</span><span class="p">;</span>
<span class="n">plts</span> <span class="p">=</span> <span class="p">[];</span>
<span class="k">for</span> <span class="nb">i</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="nb">length</span><span class="p">(</span><span class="n">motors</span><span class="p">)</span>  
    <span class="n">plt</span> <span class="p">=</span> <span class="n">plot3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="s">&#39;LineWidth&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
    <span class="n">hold</span> <span class="n">on</span><span class="p">;</span>
    <span class="n">plts</span> <span class="p">=</span> <span class="p">[</span><span class="n">plts</span><span class="p">,</span> <span class="n">plt</span><span class="p">];</span>
<span class="k">end</span>

<span class="n">savegif</span> <span class="p">=</span> <span class="n">true</span><span class="p">;</span>

<span class="n">axis</span><span class="p">([</span><span class="mi">0</span> <span class="mi">10</span> <span class="mi">0</span> <span class="mi">10</span> <span class="mi">0</span> <span class="mi">1400</span><span class="p">]);</span>
<span class="n">grid</span> <span class="n">on</span><span class="p">;</span>
<span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;Distance (m)&#39;</span><span class="p">)</span>
<span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Distance (m)&#39;</span><span class="p">)</span>

<span class="n">dt</span> <span class="p">=</span> <span class="mf">10e-3</span><span class="p">;</span>

<span class="n">rocket_cross_section_axial</span> <span class="p">=</span> <span class="nb">pi</span><span class="o">*</span><span class="p">(</span><span class="n">Hull</span><span class="p">.</span><span class="n">Diameter</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>^<span class="mi">2</span><span class="p">;</span>
<span class="n">rocket_cross_section_orthogonal</span> <span class="p">=</span> <span class="n">Hull</span><span class="p">.</span><span class="n">Length</span><span class="o">*</span><span class="n">Hull</span><span class="p">.</span><span class="n">Diameter</span><span class="p">;</span>

<span class="n">C_d</span> <span class="p">=</span> <span class="mf">1.17</span><span class="p">;</span>
<span class="n">T</span> <span class="p">=</span> <span class="mi">273</span><span class="p">;</span>
<span class="n">roe</span> <span class="p">=</span> <span class="mi">101325</span><span class="o">/</span><span class="p">(</span><span class="mf">287.058</span><span class="o">*</span><span class="n">T</span><span class="p">);</span>

<span class="n">drag_axial_norm</span> <span class="p">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">roe</span><span class="o">.^</span><span class="mi">2</span><span class="o">*</span><span class="n">C_d</span><span class="o">*</span><span class="n">rocket_cross_section_axial</span><span class="p">;</span>
<span class="n">drag_orthogonal_norm</span> <span class="p">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">roe</span><span class="o">.^</span><span class="mi">2</span><span class="o">*</span><span class="n">C_d</span><span class="o">*</span><span class="n">rocket_cross_section_orthogonal</span><span class="p">;</span>

<span class="k">for</span> <span class="n">end_t</span> <span class="p">=</span> <span class="mi">0</span><span class="p">:</span><span class="mf">0.02</span><span class="p">:</span><span class="mi">13</span>
    <span class="n">t</span> <span class="p">=</span> <span class="mi">0</span><span class="p">:</span><span class="n">dt</span><span class="p">:</span><span class="n">end_t</span><span class="p">;</span>
    <span class="n">samples</span> <span class="p">=</span> <span class="nb">length</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
    <span class="n">t_three</span> <span class="p">=</span> <span class="n">t</span><span class="p">.</span><span class="o">&#39;.*</span><span class="nb">ones</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.*</span><span class="n">dt</span><span class="p">;</span>

    <span class="k">for</span> <span class="nb">i</span> <span class="p">=</span> <span class="mi">1</span><span class="p">:</span><span class="nb">length</span><span class="p">(</span><span class="n">motors</span><span class="p">)</span>  
        <span class="n">motor</span> <span class="p">=</span> <span class="n">motors</span><span class="p">(</span><span class="nb">i</span><span class="p">);</span>

        <span class="n">weight_burn_function</span> <span class="p">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">t</span><span class="o">/</span><span class="n">motor</span><span class="p">.</span><span class="n">BurnTime</span><span class="p">;</span>
        <span class="n">weight_burn_function</span><span class="p">(</span><span class="n">weight_burn_function</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>

        <span class="n">weight_burn_window</span> <span class="p">=</span> <span class="nb">ones</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">min</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="n">motor</span><span class="p">.</span><span class="n">BurnTime</span><span class="o">/</span><span class="n">dt</span><span class="p">));</span>
        <span class="n">weight_burn_window</span> <span class="p">=</span> <span class="p">[</span><span class="n">weight_burn_window</span><span class="p">,</span> <span class="nb">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">length</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">-</span> <span class="nb">length</span><span class="p">(</span><span class="n">weight_burn_window</span><span class="p">))];</span>

        <span class="c">% Intialize Rocket Properties</span>
        <span class="n">acceleration</span>  <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.8</span><span class="p">]</span><span class="o">.*</span><span class="nb">ones</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
        <span class="n">velocity</span>      <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.*</span><span class="nb">ones</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
        <span class="n">position</span>      <span class="p">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.*</span><span class="nb">ones</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
        <span class="n">attack_vector</span> <span class="p">=</span> <span class="p">[</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.*</span><span class="nb">ones</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c">% [Rotation, Elevation]</span>
        <span class="n">attack_vector</span> <span class="p">=</span> <span class="n">attack_vector</span><span class="o">./</span><span class="n">sum</span><span class="p">(</span><span class="n">attack_vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">:));</span>

        <span class="n">total_static_mass</span> <span class="p">=</span> <span class="n">Hull</span><span class="p">.</span><span class="n">Weight</span> <span class="o">+</span> <span class="n">motor</span><span class="p">.</span><span class="n">StaticWeight</span><span class="p">;</span>
        <span class="n">engine_acceleration</span> <span class="p">=</span> <span class="n">motor</span><span class="p">.</span><span class="n">Thrust</span><span class="o">.*</span><span class="n">weight_burn_window</span><span class="o">./</span><span class="p">(</span><span class="n">total_static_mass</span> <span class="o">+</span> <span class="n">motor</span><span class="p">.</span><span class="n">FuelWeight</span><span class="o">.*</span><span class="n">weight_burn_function</span><span class="p">);</span>

        <span class="n">acceleration</span> <span class="p">=</span> <span class="n">acceleration</span> <span class="o">+</span> <span class="n">attack_vector</span><span class="o">.*</span><span class="n">engine_acceleration</span><span class="p">.</span><span class="o">&#39;</span><span class="p">;</span>
        <span class="n">velocity</span> <span class="p">=</span> <span class="n">cumsum</span><span class="p">(</span><span class="n">acceleration</span><span class="o">.*</span><span class="n">t_three</span><span class="p">)</span> <span class="o">+</span> <span class="n">velocity</span><span class="p">;</span>
        <span class="n">position</span> <span class="p">=</span> <span class="n">cumsum</span><span class="p">(</span><span class="n">velocity</span><span class="o">.*</span><span class="n">t_three</span><span class="o">.^</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">position</span><span class="p">;</span>

        <span class="k">for</span> <span class="nb">j</span> <span class="p">=</span> <span class="mi">2</span><span class="p">:</span><span class="n">samples</span>
            <span class="k">if</span><span class="p">(</span><span class="n">position</span><span class="p">(</span><span class="nb">j</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">position</span><span class="p">(</span><span class="nb">j</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">position</span><span class="p">(</span><span class="nb">j</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">=</span> <span class="n">position</span><span class="p">(</span><span class="nb">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
                <span class="n">position</span><span class="p">(</span><span class="nb">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">=</span> <span class="n">position</span><span class="p">(</span><span class="nb">j</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
            <span class="k">end</span>
        <span class="k">end</span>

        <span class="n">plts</span><span class="p">(</span><span class="nb">i</span><span class="p">).</span><span class="n">XData</span> <span class="p">=</span> <span class="n">position</span><span class="p">(:,</span> <span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mf">3.28084</span><span class="p">;</span>
        <span class="n">plts</span><span class="p">(</span><span class="nb">i</span><span class="p">).</span><span class="n">YData</span> <span class="p">=</span> <span class="n">position</span><span class="p">(:,</span> <span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mf">3.28084</span><span class="p">;</span>
        <span class="n">plts</span><span class="p">(</span><span class="nb">i</span><span class="p">).</span><span class="n">ZData</span> <span class="p">=</span> <span class="n">position</span><span class="p">(:,</span> <span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="mf">3.28084</span><span class="p">;</span>
    <span class="k">end</span>
    <span class="n">view</span><span class="p">(</span><span class="mi">45</span><span class="o">*</span><span class="p">(</span><span class="n">end_t</span><span class="o">/</span><span class="mi">13</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">),</span><span class="mi">30</span><span class="p">)</span>

    <span class="n">drawnow</span><span class="p">;</span>

    <span class="k">if</span> <span class="n">savegif</span>
        <span class="c">% Write to the GIF File </span>
        <span class="k">if</span> <span class="n">end_t</span> <span class="o">==</span> <span class="mi">0</span> 
            <span class="n">gif</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&#39;DelayTime&#39;</span><span class="p">,</span><span class="mf">0.02</span><span class="p">,</span><span class="s">&#39;frame&#39;</span><span class="p">,</span><span class="n">h</span><span class="p">);</span>
        <span class="k">else</span> 
            <span class="n">gif</span><span class="p">;</span>
        <span class="k">end</span> 
    <span class="k">end</span>
<span class="k">end</span>
</pre></div>


<h2 id="references">References</h2>
<p>[1] VMS, MIT OpenCourseWare <a href="https://ocw.mit.edu/courses/aeronautics-and-astronautics/16-07-dynamics-fall-2009/lecture-notes/MIT16_07F09_Lec14.pdf">VMS Lecture</a>.</p>
<p>[2] GIF saving tool, Mathworks file exchange <a href="https://www.mathworks.com/matlabcentral/fileexchange/63239-gif">gif</a>.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../fm_demod/" title="FM Demodulator" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                FM Demodulator
              </span>
            </div>
          </a>
        
        
          <a href="../about/" title="About Me" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                About Me
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.abd7b172.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:".."}})</script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"></script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-114435264-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>
